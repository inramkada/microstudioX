<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>microstudioX</title>
<meta name="description" content="Creative technology studio. Vanilla. Haskell. No frameworks.">
<meta name="referrer" content="no-referrer">
<meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=()">
<meta name="color-scheme" content="dark">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Fragment+Mono&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #000;
    --fg: #fff;
    --muted: rgba(255,255,255,.38);
    --line: rgba(255,255,255,.08);
    --mono: 'Fragment Mono', ui-monospace, monospace;
  }

  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  html { scroll-behavior: smooth; }

  body {
    background: var(--bg);
    color: var(--fg);
    font-family: var(--mono);
    -webkit-font-smoothing: antialiased;
    text-rendering: geometricPrecision;
    cursor: none;
    overflow-x: hidden;
  }

  /* ── Custom cursor ── */
  #cursor {
    position: fixed;
    top: 0; left: 0;
    width: 6px; height: 6px;
    background: #fff;
    border-radius: 50%;
    pointer-events: none;
    z-index: 9999;
    transform: translate(-50%, -50%);
    transition: width 120ms ease, height 120ms ease, opacity 120ms ease;
    mix-blend-mode: difference;
  }
  #cursor.expanded { width: 40px; height: 40px; }

  /* ── Canvas ── */
  #canvas {
    position: fixed;
    inset: 0;
    z-index: 0;
    pointer-events: none;
  }

  /* ── Nav ── */
  nav {
    position: fixed;
    top: 0; left: 0; right: 0;
    z-index: 100;
    padding: 28px 40px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .brand {
    font-family: var(--mono);
    font-size: 12px;
    letter-spacing: 0.04em;
    text-decoration: none;
    color: var(--fg);
  }

  .brand .X { color: #fff; }

  .nav-links {
    display: flex;
    gap: 32px;
    list-style: none;
  }

  .nav-links a {
    font-family: var(--mono);
    font-size: 10px;
    letter-spacing: 0.16em;
    text-transform: uppercase;
    color: var(--muted);
    text-decoration: none;
    transition: color 160ms ease;
  }
  .nav-links a:hover { color: var(--fg); }

  /* ── Sections ── */
  section {
    position: relative;
    z-index: 10;
  }

  /* ── Hero ── */
  #hero {
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    padding: 0 40px 60px;
  }

  .hero-label {
    font-size: 9px;
    letter-spacing: 0.22em;
    text-transform: uppercase;
    color: var(--muted);
    margin-bottom: 20px;
    opacity: 0;
    animation: fadeUp 0.6s ease 0.2s forwards;
  }

  .hero-title {
    font-size: clamp(52px, 9vw, 130px);
    line-height: 0.92;
    letter-spacing: -0.02em;
    font-weight: 400;
    overflow: hidden;
  }

  .hero-title .line {
    display: block;
    opacity: 0;
    transform: translateY(100%);
  }
  .hero-title .line:nth-child(1) { animation: slideUp 0.7s cubic-bezier(0.16,1,0.3,1) 0.1s forwards; }
  .hero-title .line:nth-child(2) { animation: slideUp 0.7s cubic-bezier(0.16,1,0.3,1) 0.22s forwards; }
  .hero-title .line:nth-child(3) { animation: slideUp 0.7s cubic-bezier(0.16,1,0.3,1) 0.34s forwards; }

  .hero-title .X-mark {
    color: #fff;
    position: relative;
    display: inline-block;
  }
  .hero-title .X-mark::after {
    content: '';
    position: absolute;
    bottom: -4px;
    left: 0; right: 0;
    height: 2px;
    background: #fff;
    transform: scaleX(0);
    transform-origin: left;
    animation: scaleIn 0.5s ease 1s forwards;
  }

  .hero-bottom {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    margin-top: 48px;
    opacity: 0;
    animation: fadeUp 0.6s ease 0.7s forwards;
  }

  .hero-sub {
    font-size: 10px;
    letter-spacing: 0.12em;
    color: var(--muted);
    line-height: 2;
    text-transform: uppercase;
    max-width: 280px;
  }

  .scroll-hint {
    font-size: 9px;
    letter-spacing: 0.2em;
    color: var(--muted);
    text-transform: uppercase;
    display: flex;
    align-items: center;
    gap: 12px;
  }
  .scroll-hint::before {
    content: '';
    display: block;
    width: 40px;
    height: 1px;
    background: var(--muted);
    animation: expandLine 0.8s ease 1.2s both;
  }

  /* ── About ── */
  #about {
    min-height: 100vh;
    display: flex;
    align-items: center;
    padding: 120px 40px;
    border-top: 1px solid var(--line);
  }

  .about-grid {
    display: grid;
    grid-template-columns: 200px 1fr;
    gap: 80px;
    width: 100%;
    max-width: 1100px;
  }

  .section-label {
    font-size: 9px;
    letter-spacing: 0.22em;
    text-transform: uppercase;
    color: var(--muted);
    padding-top: 6px;
  }

  .about-text {
    font-size: clamp(18px, 2.4vw, 28px);
    line-height: 1.5;
    letter-spacing: -0.01em;
    font-weight: 400;
    color: rgba(255,255,255,.88);
  }

  .about-text em {
    font-style: normal;
    color: #fff;
  }

  .about-detail {
    margin-top: 48px;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px 48px;
  }

  .detail-item {
    border-top: 1px solid var(--line);
    padding-top: 16px;
  }

  .detail-label {
    font-size: 9px;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: var(--muted);
    margin-bottom: 8px;
  }

  .detail-value {
    font-size: 13px;
    letter-spacing: 0.04em;
    color: rgba(255,255,255,.75);
    line-height: 1.8;
  }

  /* ── Services ── */
  #services {
    padding: 120px 40px;
    border-top: 1px solid var(--line);
  }

  .services-header {
    display: grid;
    grid-template-columns: 200px 1fr;
    gap: 80px;
    margin-bottom: 80px;
  }

  .services-title {
    font-size: clamp(32px, 4vw, 52px);
    letter-spacing: -0.02em;
    font-weight: 400;
    line-height: 1.1;
    color: rgba(255,255,255,.88);
  }

  .services-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1px;
    background: var(--line);
    border: 1px solid var(--line);
  }

  .service-item {
    background: var(--bg);
    padding: 40px 32px;
    transition: background 200ms ease;
    cursor: none;
  }
  .service-item:hover { background: rgba(255,255,255,.03); }

  .service-num {
    font-size: 9px;
    letter-spacing: 0.2em;
    color: var(--muted);
    margin-bottom: 24px;
  }

  .service-name {
    font-size: 15px;
    letter-spacing: 0.04em;
    margin-bottom: 16px;
    color: var(--fg);
  }

  .service-desc {
    font-size: 11px;
    letter-spacing: 0.06em;
    color: var(--muted);
    line-height: 1.9;
  }

  .service-tags {
    margin-top: 28px;
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
  }

  .tag {
    font-size: 8px;
    letter-spacing: 0.14em;
    text-transform: uppercase;
    color: var(--muted);
    border: 1px solid var(--line);
    padding: 4px 10px;
  }

  /* ── Contact ── */
  #contact {
    min-height: 60vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: 120px 40px;
    border-top: 1px solid var(--line);
  }

  .contact-grid {
    display: grid;
    grid-template-columns: 200px 1fr;
    gap: 80px;
    align-items: end;
  }

  .contact-title {
    font-size: clamp(40px, 6vw, 80px);
    letter-spacing: -0.02em;
    font-weight: 400;
    line-height: 0.95;
    color: rgba(255,255,255,.88);
  }

  .contact-link {
    display: inline-block;
    font-size: clamp(14px, 1.8vw, 20px);
    letter-spacing: 0.06em;
    color: var(--fg);
    text-decoration: none;
    border-bottom: 1px solid rgba(255,255,255,.2);
    padding-bottom: 4px;
    transition: border-color 200ms ease;
    margin-top: 32px;
  }
  .contact-link:hover { border-color: var(--fg); }

  .contact-note {
    font-size: 10px;
    letter-spacing: 0.14em;
    color: var(--muted);
    text-transform: uppercase;
    margin-top: 20px;
    line-height: 2;
  }

  /* ── Footer ── */
  footer {
    position: relative;
    z-index: 10;
    padding: 24px 40px;
    border-top: 1px solid var(--line);
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .footer-copy {
    font-size: 9px;
    letter-spacing: 0.16em;
    color: var(--muted);
    text-transform: uppercase;
  }

  .footer-parent {
    font-size: 9px;
    letter-spacing: 0.14em;
    color: var(--muted);
    text-transform: uppercase;
    text-decoration: none;
    transition: color 160ms ease;
  }
  .footer-parent:hover { color: var(--fg); }

  /* ── Animations ── */
  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(12px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  @keyframes slideUp {
    from { opacity: 0; transform: translateY(100%); }
    to   { opacity: 1; transform: translateY(0); }
  }

  @keyframes scaleIn {
    from { transform: scaleX(0); }
    to   { transform: scaleX(1); }
  }

  @keyframes expandLine {
    from { width: 0; opacity: 0; }
    to   { width: 40px; opacity: 1; }
  }

  /* ── Intersection observer reveal ── */
  .reveal {
    opacity: 0;
    transform: translateY(24px);
    transition: opacity 0.7s ease, transform 0.7s ease;
  }
  .reveal.visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* ── Responsive ── */
  @media (max-width: 768px) {
    nav { padding: 20px 24px; }
    .nav-links { gap: 20px; }
    #hero { padding: 0 24px 48px; }
    .hero-bottom { flex-direction: column; align-items: flex-start; gap: 24px; }
    #about, #services, #contact { padding: 80px 24px; }
    .about-grid, .services-header, .contact-grid { grid-template-columns: 1fr; gap: 32px; }
    .services-grid { grid-template-columns: 1fr; }
    .about-detail { grid-template-columns: 1fr; }
    footer { padding: 20px 24px; flex-direction: column; gap: 12px; align-items: flex-start; }
  }
</style>
</head>
<body>

<div id="cursor"></div>
<canvas id="canvas"></canvas>

<!-- Nav -->
<nav>
  <a href="#hero" class="brand">microstudio<span class="X">X</span></a>
  <ul class="nav-links">
    <li><a href="#about">about</a></li>
    <li><a href="#services">services</a></li>
    <li><a href="#contact">contact</a></li>
  </ul>
</nav>

<!-- Hero -->
<section id="hero">
  <div class="hero-label">creative technology studio</div>
  <h1 class="hero-title">
    <span class="line">micro</span>
    <span class="line">studio</span>
    <span class="line"><span class="X-mark">X</span></span>
  </h1>
  <div class="hero-bottom">
    <p class="hero-sub">
      vanilla.<br>
      haskell.<br>
      no frameworks.
    </p>
    <div class="scroll-hint">scroll</div>
  </div>
</section>

<!-- About -->
<section id="about">
  <div class="about-grid reveal">
    <div class="section-label">about</div>
    <div>
      <p class="about-text">
        microstudioX is the creative technology arm of <em>MICRORETAILX LLC</em>. 
        We build interfaces that demand to be noticed — written in pure vanilla and Haskell, 
        without abstraction layers, without shortcuts.
      </p>
      <div class="about-detail">
        <div class="detail-item">
          <div class="detail-label">stack</div>
          <div class="detail-value">Vanilla JS · CSS · HTML<br>Haskell · GLSL</div>
        </div>
        <div class="detail-item">
          <div class="detail-label">approach</div>
          <div class="detail-value">No frameworks.<br>No dependencies.<br>Pure craft.</div>
        </div>
        <div class="detail-item">
          <div class="detail-label">primary client</div>
          <div class="detail-value">MICRORETAILX LLC<br>& group verticals</div>
        </div>
        <div class="detail-item">
          <div class="detail-label">external work</div>
          <div class="detail-value">Selective.<br>By introduction only.</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Services -->
<section id="services">
  <div class="services-header reveal">
    <div class="section-label">services</div>
    <h2 class="services-title">what<br>we build</h2>
  </div>
  <div class="services-grid reveal">
    <div class="service-item">
      <div class="service-num">01</div>
      <div class="service-name">interface engineering</div>
      <div class="service-desc">
        Production-grade web interfaces built from first principles. 
        No framework overhead. Maximum performance.
      </div>
      <div class="service-tags">
        <span class="tag">vanilla js</span>
        <span class="tag">css</span>
        <span class="tag">html</span>
      </div>
    </div>
    <div class="service-item">
      <div class="service-num">02</div>
      <div class="service-name">creative coding</div>
      <div class="service-desc">
        WebGL shaders, generative systems, motion design. 
        Code as visual language, written at the metal.
      </div>
      <div class="service-tags">
        <span class="tag">webgl</span>
        <span class="tag">glsl</span>
        <span class="tag">canvas</span>
      </div>
    </div>
    <div class="service-item">
      <div class="service-num">03</div>
      <div class="service-name">functional systems</div>
      <div class="service-desc">
        Backend logic and data pipelines in Haskell. 
        Type-safe, correct by construction, built to last.
      </div>
      <div class="service-tags">
        <span class="tag">haskell</span>
        <span class="tag">functional</span>
        <span class="tag">type-safe</span>
      </div>
    </div>
  </div>
</section>

<!-- Contact -->
<section id="contact">
  <div class="contact-grid reveal">
    <div class="section-label">contact</div>
    <div>
      <h2 class="contact-title">let's<br>talk</h2>
      <a href="mailto:studio@microretailx.com" class="contact-link">studio@microretailx.com</a>
      <p class="contact-note">
        External work is selective.<br>
        We respond to serious inquiries only.
      </p>
    </div>
  </div>
</section>

<!-- Footer -->
<footer>
  <span class="footer-copy">© 2025 microstudioX — MICRORETAILX LLC</span>
  <a href="https://www.microretailx.com" class="footer-parent" target="_blank" rel="noopener">microretailX ↗</a>
</footer>

<script>
(function(){
  'use strict';

  // ── Cursor ──
  const cursor = document.getElementById('cursor');
  let mx = -100, my = -100;
  let cx = -100, cy = -100;

  document.addEventListener('mousemove', e => {
    mx = e.clientX;
    my = e.clientY;
  });

  document.querySelectorAll('a, .service-item').forEach(el => {
    el.addEventListener('mouseenter', () => cursor.classList.add('expanded'));
    el.addEventListener('mouseleave', () => cursor.classList.remove('expanded'));
  });

  function animateCursor() {
    cx += (mx - cx) * 0.18;
    cy += (my - cy) * 0.18;
    cursor.style.transform = `translate(${cx - cursor.offsetWidth/2}px, ${cy - cursor.offsetHeight/2}px)`;
    requestAnimationFrame(animateCursor);
  }
  animateCursor();

  // ── WebGL velocity lines ──
  const canvas = document.getElementById('canvas');
  const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');

  if (!gl) return;

  function resize() {
    canvas.width  = window.innerWidth;
    canvas.height = window.innerHeight;
    gl.viewport(0, 0, canvas.width, canvas.height);
  }
  resize();
  window.addEventListener('resize', resize);

  const vsSource = `
    attribute vec2 a_pos;
    attribute float a_alpha;
    varying float v_alpha;
    void main(){
      v_alpha = a_alpha;
      gl_Position = vec4(a_pos, 0.0, 1.0);
    }
  `;

  const fsSource = `
    precision mediump float;
    varying float v_alpha;
    void main(){
      gl_FragColor = vec4(1.0, 1.0, 1.0, v_alpha);
    }
  `;

  function compileShader(type, src) {
    const s = gl.createShader(type);
    gl.shaderSource(s, src);
    gl.compileShader(s);
    return s;
  }

  const prog = gl.createProgram();
  gl.attachShader(prog, compileShader(gl.VERTEX_SHADER, vsSource));
  gl.attachShader(prog, compileShader(gl.FRAGMENT_SHADER, fsSource));
  gl.linkProgram(prog);
  gl.useProgram(prog);

  const aPosLoc   = gl.getAttribLocation(prog, 'a_pos');
  const aAlphaLoc = gl.getAttribLocation(prog, 'a_alpha');

  gl.enable(gl.BLEND);
  gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);

  // Line particles
  const N = 120;
  const lines = [];

  function rand(a, b) { return a + Math.random() * (b - a); }

  function createLine() {
    // Direction — predominantly horizontal with slight angle (velocity feel)
    const angle = rand(-0.15, 0.15) * Math.PI; // mostly horizontal
    const speed = rand(0.004, 0.016);
    const len   = rand(0.04, 0.22);
    const x     = rand(-1.2, 0.4); // start off left edge mostly
    const y     = rand(-1.0, 1.0);
    return {
      x, y,
      dx: Math.cos(angle) * speed,
      dy: Math.sin(angle) * speed * 0.3,
      len,
      alpha: rand(0.04, 0.18),
      life: 0,
      maxLife: rand(0.3, 1.0),
    };
  }

  for (let i = 0; i < N; i++) {
    const l = createLine();
    l.life = Math.random() * l.maxLife; // stagger start
    lines.push(l);
  }

  const posData   = new Float32Array(N * 4); // 2 verts × 2 coords
  const alphaData = new Float32Array(N * 2); // 2 verts × 1 alpha

  const posBuf   = gl.createBuffer();
  const alphaBuf = gl.createBuffer();

  let t = 0;

  // Mouse influence
  let mouseNX = 0, mouseNY = 0;
  document.addEventListener('mousemove', e => {
    mouseNX =  (e.clientX / window.innerWidth)  * 2 - 1;
    mouseNY = -(e.clientY / window.innerHeight) * 2 + 1;
  });

  function tick() {
    t += 0.016;
    gl.clearColor(0, 0, 0, 0);
    gl.clear(gl.COLOR_BUFFER_BIT);

    for (let i = 0; i < N; i++) {
      const l = lines[i];
      l.life += 0.016;

      // subtle mouse attraction — lines drift slightly toward cursor
      const dxM = mouseNX - l.x;
      const dyM = mouseNY - l.y;
      l.x += l.dx + dxM * 0.00008;
      l.y += l.dy + dyM * 0.00004;

      // lifecycle alpha — fade in/out
      const lifeRatio = l.life / l.maxLife;
      const fade = lifeRatio < 0.15
        ? lifeRatio / 0.15
        : lifeRatio > 0.75
          ? 1 - (lifeRatio - 0.75) / 0.25
          : 1.0;

      const a = l.alpha * fade;

      const x1 = l.x;
      const y1 = l.y;
      const x2 = l.x - l.len * Math.cos(Math.atan2(l.dy, l.dx));
      const y2 = l.y - l.len * Math.sin(Math.atan2(l.dy, l.dx));

      posData[i*4+0] = x1; posData[i*4+1] = y1;
      posData[i*4+2] = x2; posData[i*4+3] = y2;
      alphaData[i*2+0] = a;
      alphaData[i*2+1] = 0.0; // tail fades to zero

      // Reset when out of bounds or life exceeded
      if (l.life >= l.maxLife || l.x > 1.4 || l.y > 1.4 || l.y < -1.4) {
        const nl = createLine();
        nl.x = rand(-1.4, -0.8); // re-enter from left
        Object.assign(lines[i], nl);
        lines[i].life = 0;
      }
    }

    // Upload position data
    gl.bindBuffer(gl.ARRAY_BUFFER, posBuf);
    gl.bufferData(gl.ARRAY_BUFFER, posData, gl.DYNAMIC_DRAW);
    gl.enableVertexAttribArray(aPosLoc);
    gl.vertexAttribPointer(aPosLoc, 2, gl.FLOAT, false, 0, 0);

    // Upload alpha data — need to interleave per-vertex
    // We draw each line as a separate draw call to handle per-vertex alpha cleanly
    // Actually batch with a combined buffer approach:
    gl.bindBuffer(gl.ARRAY_BUFFER, alphaBuf);
    gl.bufferData(gl.ARRAY_BUFFER, alphaData, gl.DYNAMIC_DRAW);
    gl.enableVertexAttribArray(aAlphaLoc);
    gl.vertexAttribPointer(aAlphaLoc, 1, gl.FLOAT, false, 0, 0);

    // Draw all lines at once
    gl.drawArrays(gl.LINES, 0, N * 2);

    requestAnimationFrame(tick);
  }
  tick();

  // ── Intersection Observer reveals ──
  const reveals = document.querySelectorAll('.reveal');
  const observer = new IntersectionObserver(entries => {
    entries.forEach(e => {
      if (e.isIntersecting) {
        e.target.classList.add('visible');
        observer.unobserve(e.target);
      }
    });
  }, { threshold: 0.12 });

  reveals.forEach(el => observer.observe(el));

})();
</script>
</body>
</html>
